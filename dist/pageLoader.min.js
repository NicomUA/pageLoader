(function(){var a;this.pageLoader=a={document:window.document,location:location.pathname,head:document.head,body:document.body,debug:!1,log:function(){return this.debug&&"object"==typeof console&&console.log?null!=console.log.apply?console.info.apply(console,arguments):console.info(arguments):void 0},getConfig:function(){var a;return this.log("loading config file"),a=document.currentScript.getAttribute("data-config"),this.loadScript(a)},loadScript:function(b){var c,d,e;return c=new $.Deferred,e=b,d=window.document.createElement("script"),d.type="text/javascript",d.src=e,d.defer=!0,d.onreadystatechange=function(){return 4===d.readyState&&200===d.status?(a.log("load "+e),c.resolve()):void 0},d.onload=function(){return a.log("File %s loaded ",e),c.resolve()},this.body.appendChild(d),c},matchUrl:function(){var a,b,c,d;a=null,d=this.pages;for(c in d)if(b=d[c],this.location.match(c,"ig")){a=b;break}return a},bootstrap:function(){var a,b,c,d,e,f,g,h;if(a=[],h=this,this.page=e=this.matchUrl(),null==this.page)return this.log("no page to load"),!1;if(d=[],this.globals.length&&Array.prototype.push.apply(d,this.globals),this.page.require.length&&Array.prototype.push.apply(d,this.page.require),d.length)for(this.log("Loading required libs for page"),f=0,g=d.length;g>f;f++)b=d[f],c=null!=b.match("^(http|https|//)","i")?b:this.libPath+b,a.push(this.loadScript(c));return null!=this.page.module&&a.push(this.loadScript(this.pagePath+this.page.module)),$.when.apply($,a).done(function(){return h.log("all libs loaded"),null!=h.page.init?(h.log("init %s page",h.page.module),h.page.init()):void 0})},init:function(){var a;return a=this,$.when(this.getConfig()).done(function(){return a.bootstrap()})}},a.init()}).call(this);